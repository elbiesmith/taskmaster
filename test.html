// create
let dueDate = formData[2].value == "" ?
new Date() :
new Date(`${formData[2].value} 00:00`);


//Edit
task.title = formData[2].value;
task.dueDate = new Date(`${formData[3].value} 00:00`);

function RenderDate(dateString) {
  let date = new Date(dateString);
  let options = {
      weekday: 'long',
      year: 'numeric',
      month: 'long',
      day: 'numeric'
  };
  return date.toLocaleDateString("en-US", options)
}

function PopEditModal(element) {
  let tasks = GetLocalStorage();
  let taskId = GetTaskId(element);
  let task = tasks.find(t => t.id == taskId);

  // $("#TaskId").val(task.id);
  document.getElementById("TaskId").value = task.id

  $("#NewTitle").val(task.title);

  //Sweet works!
  let modalDueDate = BuildModalDueDate(task.dueDate);
  $("#NewDueDate").val(modalDueDate);
  $("#editTaskItem").modal("show");

  alert("Let's see");

}

function BuildModalDueDate(dueDate) {
  let shortDate = dueDate.split("T")[0];
  return shortDate;
}